<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="demo"></div>
    <script>
      const employees = [
        {
          id: 201,
          name: { first: "Alice", last: "Johnson" },
          email: "alice.johnson@example.com",
          phone: "+1-555-111-2222",
          address: {
            street: "456 Elm Street",
            city: "Seattle",
            state: "WA",
            zip: "98101",
            country: "USA",
          },
          dateOfBirth: "1985-03-12",
          isActive: true,
          roles: ["developer", "team-lead"],
        },
        {
          id: 202,
          name: { first: "Mark", last: "Thompson" },
          email: "mark.thompson@example.com",
          phone: "+1-555-222-3333",
          address: {
            street: "789 Oak Avenue",
            city: "Austin",
            state: "TX",
            zip: "73301",
            country: "USA",
          },
          dateOfBirth: "1992-11-23",
          isActive: false,
          roles: ["designer"],
        },
        {
          id: 203,
          name: { first: "Sara", last: "Lee" },
          email: "sara.lee@example.com",
          phone: "+1-555-333-4444",
          address: {
            street: "321 Pine Road",
            city: "Denver",
            state: "CO",
            zip: "80202",
            country: "USA",
          },
          dateOfBirth: "1988-07-30",
          isActive: true,
          roles: ["developer"],
        },
      ];
      let matchedId = null;
      while (!matchedId) {
        let userEntry = Number(prompt("Please enter your employee id: "));
        console.log("User entered data: " + userEntry);
        matchedId = employees.find((value) => value.id === userEntry);
        if (!matchedId) {
          alert("Invalid credential, Please retry");
        }
      }
      let contentDiv = document.getElementById("demo");
      let htmlContent = `<h2>Employee Details : </h2><ul>`;
      let data = Object.entries(matchedId);
      data.forEach(([key, value]) => {
        console.log(`${key}: `, value);
        if (typeof value === "object" && !Array.isArray(value)) {
          htmlContent += `<li>${key}:</li><ul>`;
          for (let [subKey, subValue] of Object.entries(value)) {
            htmlContent += `<li>${subKey}: ${subValue}</li>`;
            htmlContent += `</ul></li>`;
          }
        } else if (Array.isArray(value)) {
          htmlContent += `<li>${key}: ${value.join(",")} </li>`;
        } else {
          htmlContent += `<li>${key}:${value}</li>`;
        }
      });
      htmlContent += `</ul>`;
      contentDiv.innerHTML = htmlContent;
    </script>
  </body>
</html>
